<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luca Finaldi | Systems Architect</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=Inter:wght@400;600&family=Fira+Code:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --bg: #050507; --surface: #0e0e11; --text: #f4f4f5; --text-dim: #71717a;
            --accent: #3b82f6; --border: rgba(255,255,255,0.1);
        }

        body.light-mode {
            --bg: #ffffff; --surface: #f4f4f5; --text: #09090b; --text-dim: #52525b;
            --accent: #2563eb; --border: rgba(0,0,0,0.1);
        }

        body { 
            background-color: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; overflow-x: hidden;
            transition: background 0.4s ease, color 0.4s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        nav { height: 70px; padding: 0 8%; display: flex; justify-content: space-between; align-items: center; position: fixed; top: 0; width: 100%; background: var(--bg); z-index: 1000; border-bottom: 1px solid var(--border); transition: background 0.4s ease; }
        .nav-right { display: flex; align-items: center; gap: 20px; }
        .social-link { color: var(--text); font-size: 1.1rem; opacity: 0.8; transition: 0.3s; cursor: pointer; }
        .social-link:hover { opacity: 1; color: var(--accent); }
        .theme-btn { cursor: pointer; color: var(--text); background: none; font-size: 1.1rem; border: none; outline: none; }

        .progress-container { position: fixed; top: 70px; left: 0; width: 100%; height: 3px; background: var(--border); z-index: 999; }
        #scrollBar { height: 100%; background: var(--accent); width: 0%; box-shadow: 0 0 10px var(--accent); }

        section { padding: 6rem 8% 2rem; }
        
        /* TYPEWRITER FIX - NO OVERLAP */
        .type-wrap { display: inline-flex; align-items: center; }
        .typewriter { 
            color: var(--accent);
            font-weight: 700;
            border-right: 3px solid var(--accent);
            padding-right: 8px; /* Spazio di sicurezza per la r */
            white-space: nowrap;
            overflow: hidden;
            display: inline-block;
            animation: blink 0.7s step-end infinite;
        }
        @keyframes blink { from, to { border-color: transparent } 50% { border-color: var(--accent) } }
        
        .wave-emoji { display: inline-block; animation: wave 1.5s infinite; transform-origin: 70% 70%; margin-right: 10px; }
        @keyframes wave { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(20deg); } 75% { transform: rotate(-15deg); } }

        .marquee-container { overflow: hidden; width: 100%; margin: 15px 0; }
        .marquee-content { display: flex; gap: 50px; width: max-content; align-items: center; animation: scrollL 22s linear infinite; }
        .reverse { animation: scrollR 22s linear infinite; }
        @keyframes scrollL { from { transform: translateX(0); } to { transform: translateX(-50%); } }
        @keyframes scrollR { from { transform: translateX(-50%); } to { transform: translateX(0); } }
        
        .logo-comp { height: 45px; max-width: 160px; object-fit: contain; filter: none !important; opacity: 1 !important; transition: transform 0.3s ease; }
        .logo-comp:hover { transform: scale(1.08); }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
        .card { background-color: var(--surface); padding: 2.2rem; border-radius: 18px; border: 1px solid var(--border); transition: 0.3s; }
        .card h3 { font-family: 'Space Grotesk'; color: var(--accent); margin-bottom: 0.8rem; }
        .card p { color: var(--text-dim); font-size: 0.95rem; line-height: 1.5; }

        .contact-box { background-color: var(--surface); padding: 2.5rem; border-radius: 20px; border: 1px solid var(--border); max-width: 500px; margin: 0 auto; text-align: left; }
        input, select { width: 100%; background-color: var(--bg); border: 1px solid var(--border); padding: 12px; border-radius: 8px; color: var(--text); outline: none; margin-bottom: 1rem; }
        .btn { padding: 15px; border-radius: 10px; font-weight: 700; color: white; display: flex; justify-content: center; align-items: center; gap: 8px; cursor: pointer; flex: 1; transition: 0.3s; }

        .reveal { opacity: 0; transform: translateY(20px); transition: 0.8s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>

    <nav>
        <div style="font-weight: 800; font-family: 'Space Grotesk';">LUCA<span style="color:var(--accent)">.</span>F</div>
        <div class="nav-right">
            <a href="https://github.com/lucafinaldi" class="social-link" target="_blank"><i class="fab fa-github"></i></a>
            <a href="https://www.reddit.com/u/xpfarmer05/s/Vl2ZwGTvsU" class="social-link" target="_blank"><i class="fab fa-reddit-alien"></i></a>
            <div onclick="openDeezer()" class="social-link"><i class="fab fa-deezer"></i></div>
            <button class="theme-btn" id="themeSwitcher"><i class="fas fa-sun"></i></button>
        </div>
    </nav>

    <div class="progress-container"><div id="scrollBar"></div></div>

    <main>
        <section class="reveal" style="padding-top: 9rem;">
            <div style="font-family: 'Space Grotesk'; font-size: clamp(2rem, 7vw, 3.5rem); line-height: 1.2;">
                <span class="wave-emoji">üëãüèª</span>Hi! I'm Luke <br> 
                <span style="font-size: 0.8em; color: var(--text-dim);">and i'm an Italian</span><br>
                <div class="type-wrap"><span id="type-text" class="typewriter"></span></div>
            </div>
        </section>

        <div class="reveal">
            <div class="marquee-container"><div id="t1" class="marquee-content"></div></div>
            <div class="marquee-container"><div id="t2" class="marquee-content reverse"></div></div>
        </div>

        <section class="reveal" style="text-align: center;">
            <div style="background-color: var(--surface); padding: 2rem; border-radius: 20px; max-width: 450px; margin: 0 auto; border: 1px solid var(--border);">
                <canvas id="skillChart"></canvas>
            </div>
        </section>

        <section class="grid reveal">
            <div class="card"><h3>OS Hardening</h3><p>Kernel custom e hardening su Arch Linux.</p></div>
            <div class="card"><h3>AI Ops</h3><p>Deployment locale di modelli LLM.</p></div>
            <div class="card"><h3>Code Fix</h3><p>Auditing tecnico di repository GitHub.</p></div>
        </section>

        <div class="reveal" style="margin-top: 3rem;">
            <p style="padding: 0 8%; font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px;">Trusted by & Partners</p>
            <div class="marquee-container"><div id="comps" class="marquee-content"></div></div>
        </div>

        <section id="contact" style="text-align: center; padding-bottom: 5rem;">
            <div class="contact-box">
                <select id="contactType" onchange="toggleRepo()"><option value="Collab">Collaboration</option><option value="Fix">Repo Fix</option></select>
                <input type="text" id="repoName" style="display:none;" placeholder="Repo Link">
                <input type="text" id="username" placeholder="Tuo Username">
                <div style="display: flex; gap: 10px;">
                    <div class="btn" style="background: #25d366;" onclick="send('wa')">WhatsApp</div>
                    <div class="btn" style="background: var(--accent);" onclick="send('mail')">Email</div>
                </div>
            </div>
        </section>
    </main>

    <script>
        function openDeezer() {
            window.location.href = `deezer://www.deezer.com/profile/6471202281`;
            setTimeout(() => { window.open(`https://www.deezer.com/it/profile/6471202281`, '_blank'); }, 600);
        }

        const switcher = document.getElementById('themeSwitcher');
        switcher.addEventListener('click', () => {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        });

        window.addEventListener('scroll', () => {
            let winScroll = document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            document.getElementById("scrollBar").style.width = (winScroll / height) * 100 + "%";
            document.querySelectorAll('.reveal').forEach(el => { if (el.getBoundingClientRect().top < window.innerHeight - 50) el.classList.add('active'); });
        });

        // TYPEWRITER RE-LOGIC (Fix cursore sulla R)
        const roles = ["devlooper", "sec manager", "LLM learner"];
        let rIdx = 0, cIdx = 0, isDel = false;
        function type() {
            const current = roles[rIdx];
            const target = document.getElementById("type-text");
            target.textContent = isDel ? current.substring(0, cIdx - 1) : current.substring(0, cIdx + 1);
            cIdx = isDel ? cIdx - 1 : cIdx + 1;
            let speed = isDel ? 60 : 120;
            if (!isDel && cIdx === current.length) { isDel = true; speed = 2000; }
            else if (isDel && cIdx === 0) { isDel = false; rIdx = (rIdx + 1) % roles.length; speed = 400; }
            setTimeout(type, speed);
        }
        type();

        function toggleRepo() { document.getElementById('repoName').style.display = document.getElementById('contactType').value === 'Fix' ? 'block' : 'none'; }
        function send(m) {
            const msg = `Ciao Luca, sono ${document.getElementById('username').value}. Servizio: ${document.getElementById('contactType').value}`;
            if(m === 'wa') window.open(`https://wa.me/3924484032?text=${encodeURIComponent(msg)}`);
            else window.location.href = `mailto:lucafinaldi3@gmail.com?body=${encodeURIComponent(msg)}`;
        }

        const fill = (list, id, isT) => {
            const content = list.map(i => isT ? `<img src="https://skillicons.dev/icons?i=${i}" style="height:30px">` : `<img src="${i}" class="logo-comp">`).join('');
            document.getElementById(id).innerHTML = content + content;
        };
        fill(['python','django','postgresql','docker','nextjs','javascript','java','c'], 't1', true);
        fill(['arch','bash','linux','mongodb','react','aws','cpp','git','kali'], 't2', true);
        fill(['https://aimage.it/wp-content/uploads/2024/07/aimage-400x300-1.png','https://goonnet.it/storage/Main-240x92-1.webp','https://www.greatplacetowork.it/wp-content/uploads/2025/04/LOGO_algomera.png','https://virtualjuice.net/wp-content/themes/iimage-boiler/assets/images/logo.png'], 'comps', false);
        
        const skillChart = new Chart(document.getElementById('skillChart'), {
            type: 'radar',
            data: { labels: ['Security', 'AI', 'Backend', 'Frontend', 'DevOps', 'Systems'], datasets: [{ data: [95, 90, 85, 70, 88, 92], backgroundColor: 'rgba(59, 130, 246, 0.2)', borderColor: '#3b82f6' }] },
            options: { scales: { r: { grid: { color: 'rgba(113,113,122,0.1)' }, pointLabels: { display: false }, ticks: { display: false } } }, plugins: { legend: { display: false } } }
        });
        window.dispatchEvent(new Event('scroll'));
    </script>
</body>
</html>
